(this["webpackJsonpjournal-react"]=this["webpackJsonpjournal-react"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(31),r=a.n(o),l=(a(38),a(39),a(8)),i=a(1),u="https://fierce-tundra-31798.herokuapp.com/auth/tasks",s="https://fierce-tundra-31798.herokuapp.com/auth/tasks",m="https://fierce-tundra-31798.herokuapp.com/auth/trackers",p="https://fierce-tundra-31798.herokuapp.com/auth/tasks",f=a(2),d=a.n(f),h=function(e){var t=Object(n.useState)(e.isComplete),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(),u=Object(i.a)(l,2),s=u[0],m=u[1],f=Object(n.useState)(e.userTask),h=Object(i.a)(f,2),E=h[0],g=h[1],v=Object(n.useState)(e.priorityLevel),b=Object(i.a)(v,2),y=b[0],k=b[1],j=Object(n.useState)(e.solidifier),O=Object(i.a)(j,2),C=O[0],D=O[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),_=w[0],T=w[1],N=Object(n.useState)(!1),I=Object(i.a)(N,2),L=I[0],x=I[1],A=Object(n.useState)(!1),W=Object(i.a)(A,2),F=W[0],Y=W[1];Object(n.useEffect)((function(){e.isComplete?m("completed"):m("")}),[e.isComplete]);var G=function(){x(!L)},K=function(){Y(!F)},B=function(){T(!_)},P=function(e){13===e.keyCode&&B()},R=function(e){13===e.keyCode&&K()},M=function(e){13===e.keyCode&&G()},J=function(t){var a=t.target.value;d.a.patch("".concat(p,"/").concat(e.id),{priority:a}).then((function(e){k(e.data.priority_level)})).catch((function(e){return console.warn(e)}))},V=function(t){var a=t.target.value;console.log(a),d.a.patch("".concat(p,"/").concat(e.id),{solidifier:a}).then((function(e){D(e.data.solidifier),console.log("SETTING THE WHY? ",e.data)})).catch((function(e){return console.warn(e)}))},H=function(t){var a=t.target.value;d.a.patch("".concat(p,"/").concat(e.id),{task:a}).then((function(e){g(e.data.task),console.log("SETTING TASK ",e.data)})).catch((function(e){return console.warn(e)}))};return c.a.createElement("div",{className:"itemWrapper"},c.a.createElement("input",{type:"checkbox",checked:o||!1,onChange:function(t){r(!o),m(o?"":"completed"),d.a.patch("".concat(p,"/").concat(e.id),{is_complete:JSON.stringify(!o)}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),console.log(o)},className:"".concat(s," ")}),_?c.a.createElement("input",{type:"text",className:"".concat(s," "),onChange:H,autoFocus:!0,onKeyDown:P,onDoubleClick:B,defaultValue:E}):c.a.createElement("p",{className:"".concat(s," item"),onDoubleClick:B},E),L?c.a.createElement("input",{type:"text",className:"".concat(s," "),onChange:V,autoFocus:!0,onKeyDown:M,onDoubleClick:G,defaultValue:C}):c.a.createElement("p",{className:"".concat(s," item"),onDoubleClick:G},C),F?c.a.createElement("input",{type:"text",className:"".concat(s),onChange:J,autoFocus:!0,onKeyDown:R,onDoubleClick:K,defaultValue:y}):c.a.createElement("p",{className:"".concat(s),onDoubleClick:K},y))},E=a(17),g=a.n(E),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;if(Array.isArray(e)){var a=e.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(h,{priorityLevel:e.priority_level,userTask:e.task,solidifier:e.solidifier,isComplete:e.completed,id:e.id,key:e.id}))}));return a}t()},b=function(){console.log("Tasks havent been retrieved from the server yet")},y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d.a.get(u,{params:e}).then((function(e){k()&&t(Object(l.a)(e.data.requested_task_set)),a&&a(e.data)})).catch((function(e){return console.warn(e)}))},k=function(){return"null"!==localStorage.getItem("jwt")},j=function(){var e=new Date,t=g.a.compile("MMM D YYYY");return g.a.format(e,t)},O=function(){return 4===(new Date).getDay()},C=a(15),D=a(18),S=function(e){var t=Object(n.useState)({priorityLevel:0,task:"",solidifier:""}),a=Object(i.a)(t,2),o=a[0],r=a[1],l=function(e){e.preventDefault(),r(Object(D.a)(Object(D.a)({},o),{},Object(C.a)({},e.target.name,e.target.value)))},u=function(){return console.log(o),""!==o.priorityLevel&&""!==o.solidifier&&""!==o.task};return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"taskForm",onSubmit:function(t){t.preventDefault(),console.log(u()),setTimeout((function(){u()&&"D2D"===e.taskType?d.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,global:!1}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)})):u()&&"SUBLIST"===e.taskType?d.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,subListId:e.listId,global:!1}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)})):u()&&"FLOATER"===e.taskType&&d.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,global:!0}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)}))}),500)}},c.a.createElement("input",{type:"checkbox",readOnly:!0}),c.a.createElement("input",{name:"task",placeholder:"Your task. Get it done",type:"text",onChange:l}),c.a.createElement("input",{name:"solidifier",placeholder:"The solidifier. eg Get fit",type:"text",onChange:l}),c.a.createElement("input",{type:"text",name:"priorityLevel",placeholder:"Your priority level",onChange:l}),c.a.createElement("button",{hidden:!0,type:"submit"})))},w=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),m=s[0],p=s[1];return Object(n.useEffect)((function(){y({task_type:"D2D"},r),m||p(O()),m&&(e.history.push("/review"),p(!1))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{onCreate:function(e){void 0!==e&&r([].concat(Object(l.a)(o),[e]))},taskType:"D2D"}),v(o))},_=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],u=!1,s=function(){u&&y({task_type:"CATEGORISED",list_id:e.match.params.listId},r)};return Object(n.useEffect)((function(){return u=!0,s(),function(){u=!1}}),[]),Object(n.useEffect)((function(){return u=!0,s(),function(){u=!1}}),[e.match.params.listId]),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(S,{taskType:"SUBLIST",listId:e.match.params.listId,onCreate:function(e){void 0!==e&&r([].concat(Object(l.a)(o),[e]))}}),v(o))},T=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],u=Object(n.useState)([]),s=Object(i.a)(u,2),m=s[0],p=s[1];Object(n.useEffect)((function(){d.a.get("https://fierce-tundra-31798.herokuapp.com/auth/user_sub_list").then((function(e){console.log(e.data),r(e.data.sub_list)})).catch((function(e){console.warn(e)}))}),[]);var f=function(t){e.history.push("/category_sub_list/".concat(e.match.params.category_id,"/").concat(t.target.id))};return c.a.createElement("div",{className:"sublistWrapper"},c.a.createElement("h3",null,"Your lists"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("input",{type:"text",onKeyDown:function(t){13===t.keyCode&&d.a.post("https://fierce-tundra-31798.herokuapp.com/auth/sub_lists",{title:m,category_id:e.match.params.category_id}).then((function(e){r([].concat(Object(l.a)(o),[e.data]))})).catch((function(e){console.warn(e)}))},onChange:function(e){return p(e.target.value)},placeholder:"Create a list"})),function(){var t=o.filter((function(t){return console.log(t),parseInt(t.category_id)===parseInt(e.match.params.category_id)}));return console.log(t),t.map((function(e){return c.a.createElement("li",{onClick:f,key:e.id,id:e.id},e.title)}))}()))},N=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],r=a[1],l=function(){var e=new Promise((function(e,t){d.a.get(m).then((function(t){console.log(t.data),e(t.data)})).catch((function(e){t(e)}))}));u(e)},u=function(e){e.then((function(e){e.incomplete_total!==o.incomplete_total&&r(e)})).catch((function(e){console.warn(e)}))};return Object(n.useEffect)((function(){d.a.get(m).then((function(e){r(e.data)})).catch((function(e){console.warn(e)})),setInterval(l,3e3)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"Grand Completed Total: "),o.grand_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Weekly Completed Total: "),o.weekly_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Daily Completed Total: "),o.daily_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Grand Incomplete Total: "),o.incomplete_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Weekly Incomplete Total: "),o.incomplete_weekly_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Daily Incomplete Total: "),o.incomplete_daily_total)))},I=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],u=Object(n.useState)(""),s=Object(i.a)(u,2),m=s[0],p=s[1],f=function(t){e.history.push("/category_sub_list/".concat(t.target.id))};return Object(n.useEffect)((function(){d.a.get("https://fierce-tundra-31798.herokuapp.com/auth/categories").then((function(e){r(e.data.user_categories),console.log(e.data)})).catch((function(e){console.warn(e)}))}),[]),c.a.createElement("div",{className:"categoryList"},c.a.createElement("h3",null,"Categories"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("input",{type:"text",onKeyDown:function(e){13===e.keyCode&&d.a.post("https://fierce-tundra-31798.herokuapp.com/auth/categories",{title:m}).then((function(e){r([].concat(Object(l.a)(o),[e.data]))}))},onChange:function(e){return p(e.target.value)},placeholder:"Create a category"})),function(){if(Array.isArray(o))return o.map((function(e){return c.a.createElement("li",{onClick:f,id:e.id,key:e.id},e.title)}))}()))},L=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],r=a[1];return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),d.a.post("https://fierce-tundra-31798.herokuapp.com/auth/reviews",{daily_review:o}).then((function(t){console.log(t),e.history.push("/D2D")})).catch((function(e){return console.warn(e)}))}},c.a.createElement("textarea",{name:"review",rows:"8",cols:"60",onChange:function(e){e.preventDefault(),r(e.target.value)}}),c.a.createElement("button",{type:"submit"},"Submit Review!")))},x=function(e){var t=Object(n.useState)("benny.purvis@hotmail.com"),a=Object(i.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)("chicken"),u=Object(i.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),h=(f[0],f[1]);return c.a.createElement("div",null,c.a.createElement("h2",null,"Login"),c.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={auth:{email:o,password:s}};console.log(s),d.a.post("https://fierce-tundra-31798.herokuapp.com/auth/login",a).then((function(t){console.log(t.data),localStorage.setItem("jwt",t.data.jwt),console.log(e.history.location),e.history.push("/D2D",{params:localStorage.getItem("jwt")})})).catch((function(e){h(!0),console.warn(e)})),console.log(localStorage.getItem("jwt"))}},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{type:"text",onChange:function(e){return r(e.target.value)},autoComplete:"on",value:o}),c.a.createElement("label",null,"Password:"),c.a.createElement("input",{type:"password",onChange:function(e){return m(e.target.value)},value:s,autoComplete:"on"}),c.a.createElement("button",null,"Login")))},A=a(11),W=function(){return c.a.createElement("nav",{className:"topLevelNav"},c.a.createElement(A.b,{to:"/D2D",className:"D2DNav navItem"},"Day 2 Day"),c.a.createElement(A.b,{onClick:function(){localStorage.setItem("jwt","null")},to:"/login",className:"logout navItem"},"Logout"),c.a.createElement(A.b,{to:"/floaters",className:"floatingTasksNav navItem"},"Floating Tasks"))},F=a(3),Y=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){y({task_type:"FLOATERS"},o)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{taskType:"FLOATER",onCreate:function(e){void 0!==e&&o([].concat(Object(l.a)(a),[e]))}}),v(a))},G=function(){return d.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("jwt")),c.a.createElement(A.a,null,c.a.createElement("div",null,c.a.createElement(F.a,{path:"/",component:W}),function(){if(O())return c.a.createElement(F.a,{exact:!0,path:"/review",render:function(e){if(k)return c.a.createElement("div",null,c.a.createElement(L,e));e.history.push("/login")}})}(),c.a.createElement(F.a,{path:"/D2D",render:function(e){if(k())return c.a.createElement("div",{className:"statSheet"},c.a.createElement(N,e));e.history.push("/login")}}),c.a.createElement(F.a,{exact:!0,path:"/floaters",render:function(e){if(k())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("div",{className:"taskContainer"},c.a.createElement(Y,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(I,e)));e.history.push("/login")}}),c.a.createElement(F.a,{exact:!0,path:"/D2D",render:function(e){if(k())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("h3",{id:"currentDate"},j()),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(w,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(I,e)));e.history.push("/login")}}),c.a.createElement(F.a,{exact:!0,path:"/category_sub_list/:category_id",render:function(e){if(k())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("h3",{id:"currentDate"},j()),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(w,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(I,e),c.a.createElement(T,e)));e.history.push("/login")}}),c.a.createElement(F.a,{exact:!0,path:"/category_sub_list/:category_id/:listId",render:function(e){if(k())return c.a.createElement("div",null,c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("div",{id:"spacer"}),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(_,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(I,e),c.a.createElement(T,e))));e.history.push("/login")}}),c.a.createElement(F.a,{exact:!0,path:"/categorised/:listId",component:_}),c.a.createElement(F.a,{exact:!0,path:"/login",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.d3127cf1.chunk.js.map